# Yan.—Åalculator

–ó–∞–¥–∞–Ω–∏—è –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é calculator.go 
–ü—Ä–æ—Å—Ç–æ–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —á–µ—Ä–µ–∑ HTTP-–∑–∞–ø—Ä–æ—Å. –°–µ—Ä–≤–∏—Å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `cmd/` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞.
- `main.go` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç HTTP-—Å–µ—Ä–≤–µ—Ä.
- `pkg/calculation/` ‚Äî –ø–∞–∫–µ—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π.
  - `calculation.go` ‚Äî –ª–æ–≥–∏–∫–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞.
  - `calculation_test.go` ‚Äî —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞.
- `README.md` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞.
- `go.mod` ‚Äî —Ñ–∞–π–ª –º–æ–¥—É–ª—è Go.

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è Go 1.23 –∏–ª–∏ –≤—ã—à–µ. –í—ã –º–æ–∂–µ—Ç–µ —Å–∫–∞—á–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Go —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞](https://go.dev/dl/).
2. –ö–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–ø—Ä–µ–∑–∏—Ç–æ—Ä–∏–π:
```bash
 git clone https://github.com/A6ra-Kada6ra/calculator_project
```
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:
```bash
  cd <–ø—É—Ç—å_–∫_–ø—Ä–æ–µ–∫—Ç—É>
```

4. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä:
```bash
go run cmd/main.go
```
5. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –≤—ã—Å–≤–µ—Ç–∏—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```bash
üöÄ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:8080
```
* –¢–∞–∫ –∂–µ —Å–µ—Ä–≤–∏—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥–µ—Ç –¥–æ—Å—Ç–ø–µ–Ω –Ω–∞: [http://localhost:8080/api/v1/calculate](http://localhost:8080/api/v1/calculate) 

## –§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
–ó–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å JSON –æ–±—ä–µ–∫—Ç —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

{ \"expression\": \"–≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤–≤—ë–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"\}

*–ì–¥–µ "expression" ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∞—è —Å–æ–±–æ–π –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ.*
## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∑–∞–ø—Ä–æ—Å—É

–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å:

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- –°–ª–æ–∂–µ–Ω–∏–µ (`+`)
- –í—ã—á–∏—Ç–∞–Ω–∏–µ (`-`)
- –£–º–Ω–æ–∂–µ–Ω–∏–µ (`*`)
- –î–µ–ª–µ–Ω–∏–µ (`/`)

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏:
- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–æ–±–æ–∫ –¥–ª—è –∑–∞–¥–∞–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π.
- –î–æ–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–æ–±–µ–ª—ã –º–µ–∂–¥—É –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –∏ —á–∏—Å–ª–∞–º–∏.
- –ß–∏—Å–ª–∞ –º–æ–≥—É—Ç –±—ã—Ç—å —Ü–µ–ª—ã–º–∏.
- –î–µ—Å—è—Ç–∏—á–Ω—ã–µ —á–∏—Å–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è.

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –ó–∞–ø—Ä–æ—Å —Å –ø—É—Å—Ç—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ 422 (–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ).
- –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É 422.
- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å:
  - –ù–µ—á–∏—Å–ª–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—É–∫–≤—ã –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã, –æ—Ç–ª–∏—á–Ω—ã–µ –æ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —Å–∫–æ–±–æ–∫).
  - –ù–µ–≤–µ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–æ–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Å–∫–æ–±–∫–∏ –Ω–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω—ã).
  - –°—Ç—Ä–æ–∫–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø–æ–¥—Ä—è–¥ –±–µ–∑ –æ–ø–µ—Ä–∞–Ω–¥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2++2`).

## –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤
**–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å:**
```bash
curl -X POST "http://localhost:8080/api/v1/calculate" -H "Content-Type: application/json" -d "{\"expression\": \"2+2*2\"}" -i
```
–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
``` json
{"result": "6"}
```
**–ó–∞–ø—Ä–æ—Å —Å –æ—à–∏–±–∫–æ–π 422 (–Ω–µ–≤–µ—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ):**
```bash
 curl -X POST "http://localhost:8080/api/v1/calculate" -H "Content-Type: application/json" -d "{\"expression\": \"\"}" -i
```
–æ–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
``` json
{ "error": "Expression is not valid"}
```
**–ó–∞–ø—Ä–æ—Å —Å –æ—à–∏–±–∫–æ–π 500 (–í–Ω—É—Ç—Ä–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞):**
```bash
curl -X POST "http://localhost:8080/api/v1/calculate" -H "Content-Type: application/json" -d \"\" -i
```
–æ–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
``` json
{ "error": "Internal server error"}
```
